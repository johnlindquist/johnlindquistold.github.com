(function(a,b,c,d){var e,f,g,h={change:"deck.change",beforeInitialize:"deck.beforeInit",initialize:"deck.init"},i={},j=a(c),k=function(){var b=i.classes,c=i.selectors.container,d=g.data("onSlide"),h=a();g.removeClass(b.onPrefix+d).addClass(b.onPrefix+f).data("onSlide",f),a("."+b.current).parentsUntil(c).removeClass(b.childCurrent),e[f].parentsUntil(c).addClass(b.childCurrent),a.each(e,function(a,b){h=h.add(b)}),h.removeClass([b.before,b.previous,b.current,b.next,b.after].join(" ")),e[f].addClass(b.current),f>0&&e[f-1].addClass(b.previous),f+1<e.length&&e[f+1].addClass(b.next),f>1&&a.each(e.slice(0,f-1),function(a,c){c.addClass(b.before)}),f+2<e.length&&a.each(e.slice(f+2),function(a,c){c.addClass(b.after)})},l={init:function(c,m){var n,o,p=function(a){a.stopPropagation()};i=a.extend(!0,{},a[b].defaults,m),e=[],f=0,g=a(i.selectors.container),o=i.touch.swipeTolerance,j.trigger(h.beforeInitialize),g.addClass(i.classes.loading),a.isArray(c)?a.each(c,function(b,c){e.push(a(c))}):a(c).each(function(b,c){e.push(a(c))}),j.unbind("keydown.deck").bind("keydown.deck",function(b){if(b.which===i.keys.next||a.inArray(b.which,i.keys.next)>-1)l.next(),b.preventDefault();else if(b.which===i.keys.previous||a.inArray(b.which,i.keys.previous)>-1)l.prev(),b.preventDefault()}).undelegate("input, textarea, select, button, meter, progress, [contentEditable]","keydown",p).delegate("input, textarea, select, button, meter, progress, [contentEditable]","keydown",p),g.unbind("touchstart.deck").bind("touchstart.deck",function(b){n||(n=a.extend({},b.originalEvent.targetTouches[0]))}).unbind("touchmove.deck").bind("touchmove.deck",function(c){a.each(c.originalEvent.changedTouches,function(c,e){if(n&&e.identifier===n.identifier){if(e.screenX-n.screenX>o||e.screenY-n.screenY>o)a[b]("prev"),n=d;else if(e.screenX-n.screenX<-1*o||e.screenY-n.screenY<-1*o)a[b]("next"),n=d;return!1}}),c.preventDefault()}).unbind("touchend.deck").bind("touchend.deck",function(b){a.each(b.originalEvent.changedTouches,function(a,b){n&&b.identifier===n.identifier&&(n=d)})}).scrollLeft(0).scrollTop(0),a.each(e,function(c,d){d.unbind("webkitTransitionEnd.deck").bind("webkitTransitionEnd.deck",function(c){if(d.hasClass(a[b]("getOptions").classes.current)){var e=a(this).find("iframe").css("opacity",0);window.setTimeout(function(){e.css("opacity",1)},100)}})}),e.length&&k(),g.removeClass(i.classes.loading),j.trigger(h.initialize)},go:function(b){var c=a.Event(h.change),d;typeof b=="number"&&b>=0&&b<e.length?d=b:typeof b=="string"&&a.each(e,function(a,c){if(c.attr("id")===b)return d=a,!1});if(typeof d=="undefined")return;j.trigger(c,[f,d]),c.isDefaultPrevented()?j.trigger(h.change,[d,f]):(f=d,k())},next:function(){l.go(f+1)},prev:function(){l.go(f-1)},getSlide:function(a){var b=typeof a!="undefined"?a:f;return typeof b!="number"||b<0||b>=e.length?null:e[b]},getSlides:function(){return e},getContainer:function(){return g},getOptions:function(){return i},extend:function(a,b){l[a]=b}};a[b]=function(a,b){return l[a]?l[a].apply(this,Array.prototype.slice.call(arguments,1)):l.init(a,b)},a[b].defaults={classes:{after:"deck-after",before:"deck-before",childCurrent:"deck-child-current",current:"deck-current",loading:"deck-loading",next:"deck-next",onPrefix:"on-slide-",previous:"deck-previous"},selectors:{container:".deck-container"},keys:{next:[13,32,34,39,40],previous:[8,33,37,38]},touch:{swipeTolerance:60}},j.ready(function(){a("html").addClass("ready")}),j.bind("deck.change",function(c,d,e){var f=a[b]("getSlide",d).find("iframe"),g=a[b]("getSlide",e).find("iframe");f.each(function(){var b=a(this),c=b.attr("src");c&&b.data("deck-src",c).attr("src","")}),g.each(function(){var b=a(this),c=b.data("deck-src");c&&b.attr("src",c)})})})(jQuery,"deck",document),function(a,b,c,d){var e=a(document),f=a(c),g,h=function(c){var d=c.substr(c.indexOf("#")+1),e=a[b]("getSlides");a.each(e,function(c,e){if(e.attr("id")===d)return a[b]("go",c),!1}),a[b]("getContainer").scrollLeft(0).scrollTop(0)};a.extend(!0,a[b].defaults,{selectors:{hashLink:".deck-permalink"},hashPrefix:"slide-",preventFragmentScroll:!0}),e.bind("deck.init",function(){var d=a[b]("getOptions");g=a(),slides=a[b]("getSlides"),a.each(slides,function(e,f){var h;if(!f.attr("id")||f.data("deckAssignedId")===f.attr("id"))f.attr("id",d.hashPrefix+e),f.data("deckAssignedId",d.hashPrefix+e);h="#"+f.attr("id"),h===c.location.hash&&a[b]("go",e),g=g.add('a[href="'+h+'"]')}),Modernizr.hashchange||g.unbind("click.deckhash").bind("click.deckhash",function(b){h(a(this).attr("href"))}),slides.length&&a[b]("getContainer").addClass(d.classes.onPrefix+a[b]("getSlide").attr("id"))}).bind("deck.change",function(d,e,f){var g="#"+a[b]("getSlide",f).attr("id"),h=c.location.href.replace(/#.*/,"")+g,i=a[b]("getOptions"),j=i.classes.onPrefix,k=a[b]("getContainer");k.removeClass(j+a[b]("getSlide",e).attr("id")),k.addClass(j+a[b]("getSlide",f).attr("id")),a(i.selectors.hashLink).attr("href",h),Modernizr.history&&c.history.replaceState({},"",h)}),f.bind("hashchange.deckhash",function(a){a.originalEvent&&a.originalEvent.newURL?h(a.originalEvent.newURL):h(c.location.hash)}).bind("load",function(){a[b]("getOptions").preventFragmentScroll&&a[b]("getContainer").scrollLeft(0).scrollTop(0)})}(jQuery,"deck",this),function(a,b,c){var d=a(document),e;a.extend(!0,a[b].defaults,{classes:{menu:"deck-menu"},keys:{menu:77},touch:{doubletapWindow:400}}),a[b]("extend","showMenu",function(){var c=a[b]("getContainer"),d=a[b]("getOptions");if(c.hasClass(d.classes.menu))return;c.addClass([d.classes.loading,d.classes.menu].join(" ")),Modernizr.csstransforms&&a.each(e,function(a,b){b.data("oldStyle",b.attr("style")),b.css({position:"absolute",left:a%4*25+"%",top:Math.floor(a/4)*25+"%"})}),window.setTimeout(function(){c.removeClass(d.classes.loading).scrollTop(a[b]("getSlide").offset().top)},0)}),a[b]("extend","hideMenu",function(){var c=a[b]("getContainer"),d=a[b]("getOptions");if(!c.hasClass(d.classes.menu))return;c.removeClass(d.classes.menu),c.addClass(d.classes.loading),Modernizr.csstransforms&&a.each(e,function(a,b){var c=b.data("oldStyle");b.attr("style",c?c:"")}),window.setTimeout(function(){c.removeClass(d.classes.loading).scrollTop(0)},0)}),a[b]("extend","toggleMenu",function(){a[b]("getContainer").hasClass(a[b]("getOptions").classes.menu)?a[b]("hideMenu"):a[b]("showMenu")}),d.bind("deck.init",function(){var c=a[b]("getOptions"),f=0,g,h=a.map([c.classes.before,c.classes.previous,c.classes.current,c.classes.next,c.classes.after],function(a,b){return"."+a}).join(", ");e=[],a.each(a[b]("getSlides"),function(a,b){b.parentsUntil(c.selectors.container,h).length||e.push(b)}),d.unbind("keydown.deckmenu").bind("keydown.deckmenu",function(d){if(d.which===c.keys.menu||a.inArray(d.which,c.keys.menu)>-1)a[b]("toggleMenu"),d.preventDefault()}),a[b]("getContainer").unbind("touchstart.deckmenu").bind("touchstart.deckmenu",function(c){g=a[b]("getSlide")}).unbind("touchend.deckmenu").bind("touchend.deckmenu",function(d){var e=Date.now();if(g!==a[b]("getSlide"))return;e-f<c.touch.doubletapWindow&&(a[b]("toggleMenu"),d.preventDefault()),f=e}),a.each(a[b]("getSlides"),function(d,e){e.unbind("click.deckmenu").bind("click.deckmenu",function(e){if(!a[b]("getContainer").hasClass(c.classes.menu))return;a[b]("go",d),a[b]("hideMenu"),e.stopPropagation(),e.preventDefault()})})}).bind("deck.change",function(c,d,e){var f=a[b]("getContainer");f.hasClass(a[b]("getOptions").classes.menu)&&f.scrollTop(a[b]("getSlide",e).offset().top)})}(jQuery,"deck"),function(a,b,c){var d=a(document);a.extend(!0,a[b].defaults,{classes:{"goto":"deck-goto"},selectors:{gotoDatalist:"#goto-datalist",gotoForm:".goto-form",gotoInput:"#goto-slide"},keys:{"goto":71},countNested:!0}),a[b]("extend","showGoTo",function(){a[b]("getContainer").addClass(a[b]("getOptions").classes.goto),a(a[b]("getOptions").selectors.gotoInput).focus()}),a[b]("extend","hideGoTo",function(){a(a[b]("getOptions").selectors.gotoInput).blur(),a[b]("getContainer").removeClass(a[b]("getOptions").classes.goto)}),a[b]("extend","toggleGoTo",function(){a[b](a[b]("getContainer").hasClass(a[b]("getOptions").classes.goto)?"hideGoTo":"showGoTo")}),d.bind("deck.init",function(){var c=a[b]("getOptions"),e=a(c.selectors.gotoDatalist),f=a.map([c.classes.before,c.classes.previous,c.classes.current,c.classes.next,c.classes.after],function(a,b){return"."+a}).join(", "),g=1;d.unbind("keydown.deckgoto").bind("keydown.deckgoto",function(c){var d=a[b]("getOptions").keys.goto;if(c.which===d||a.inArray(c.which,d)>-1)c.preventDefault(),a[b]("toggleGoTo")}),a.each(a[b]("getSlides"),function(a,b){var d=b.attr("id"),h=b.parentsUntil(c.selectors.container,f);d&&e.append('<option value="'+d+'">'),h.length?b.removeData("rootIndex"):c.countNested||(b.data("rootIndex",g),++g)}),a(c.selectors.gotoForm).unbind("submit.deckgoto").bind("submit.deckgoto",function(c){var d=a(a[b]("getOptions").selectors.gotoInput),e=parseInt(d.val(),10);if(!a[b]("getOptions").countNested){if(e>=g)return!1;a.each(a[b]("getSlides"),function(a,b){if(b.data("rootIndex")===e)return e=a+1,!1})}a[b]("go",isNaN(e)?d.val():e-1),a[b]("hideGoTo"),d.val(""),c.preventDefault()}),a(c.selectors.gotoInput).unbind("keydown.deckgoto").bind("keydown.deckgoto",function(a){a.stopPropagation()})})}(jQuery,"deck"),function(a,b,c){var d=a(document),e=function(c,d,e){var f=a[b]("getOptions");a(f.selectors.statusCurrent).text(f.countNested?e+1:a[b]("getSlide",e).data("rootSlide"))};a.extend(!0,a[b].defaults,{selectors:{statusCurrent:".deck-status-current",statusTotal:".deck-status-total"},countNested:!0}),d.bind("deck.init",function(){var c=a[b]("getOptions"),d=a[b]("getSlides"),f=a[b]("getSlide"),g;if(c.countNested)a(c.selectors.statusTotal).text(d.length);else{var h=1,i=a.map([c.classes.before,c.classes.previous,c.classes.current,c.classes.next,c.classes.after],function(a,b){return"."+a}).join(", ");a.each(d,function(a,b){var d=b.parentsUntil(c.selectors.container,i);b.data("rootSlide",d.length?d.last().data("rootSlide"):h++)}),a(c.selectors.statusTotal).text(h-1)}a.each(d,function(a,b){if(b===f)return g=a,!1}),e(null,g,g)}).bind("deck.change",e)}(jQuery,"deck"),function(a,b,c){var d=a(document),e=function(d,e,f){var g=a[b]("getOptions"),h=a[b]("getSlides").length-1,i=a[b]("getSlide",f-1),j=a[b]("getSlide",f+1),k=window.location.href.replace(/#.*/,""),l=i?i.attr("id"):c,m=j?j.attr("id"):c;a(g.selectors.previousLink).toggleClass(g.classes.navDisabled,!f).attr("href",k+"#"+(l?l:"")),a(g.selectors.nextLink).toggleClass(g.classes.navDisabled,f===h).attr("href",k+"#"+(m?m:""))};a.extend(!0,a[b].defaults,{classes:{navDisabled:"deck-nav-disabled"},selectors:{nextLink:".deck-next-link",previousLink:".deck-prev-link"}}),d.bind("deck.init",function(){var c=a[b]("getOptions"),d=a[b]("getSlides"),f=a[b]("getSlide"),g;a(c.selectors.previousLink).unbind("click.decknavigation").bind("click.decknavigation",function(c){a[b]("prev"),c.preventDefault()}),a(c.selectors.nextLink).unbind("click.decknavigation").bind("click.decknavigation",function(c){a[b]("next"),c.preventDefault()}),a.each(d,function(a,b){if(b===f)return g=a,!1}),e(null,g,g)}).bind("deck.change",e)}(jQuery,"deck"),function(a,b,c,d){var e=a(document),f=a(c),g,h,i,j=function(){var c=a[b]("getOptions"),d=c.baseHeight,e=a[b]("getContainer"),f=d?d:e.height();a.each(i,function(b,d){var g=d.innerHeight(),h=d.find("."+c.classes.scaleSlideWrapper),i=e.hasClass(c.classes.scale)?f/g:1;a.each("Webkit Moz O ms Khtml".split(" "),function(a,b){i===1?h.css(b+"Transform",""):h.css(b+"Transform","scale("+i+")")})})};a.extend(!0,a[b].defaults,{classes:{scale:"deck-scale",scaleSlideWrapper:"deck-slide-scaler"},keys:{scale:83},baseHeight:null,scaleDebounce:200}),a[b]("extend","disableScale",function(){a[b]("getContainer").removeClass(a[b]("getOptions").classes.scale),j()}),a[b]("extend","enableScale",function(){a[b]("getContainer").addClass(a[b]("getOptions").classes.scale),j()}),a[b]("extend","toggleScale",function(){var c=a[b]("getContainer");a[b](c.hasClass(a[b]("getOptions").classes.scale)?"disableScale":"enableScale")}),e.bind("deck.init",function(){var d=a[b]("getOptions"),g=a.map([d.classes.before,d.classes.previous,d.classes.current,d.classes.next,d.classes.after],function(a,b){return"."+a}).join(", ");i=[],a.each(a[b]("getSlides"),function(a,b){b.parentsUntil(d.selectors.container,g).length||i.push(b)}),a.each(i,function(a,b){b.children().wrapAll('<div class="'+d.classes.scaleSlideWrapper+'"/>')}),f.unbind("resize.deckscale").bind("resize.deckscale",function(){c.clearTimeout(h),h=c.setTimeout(j,d.scaleDebounce)}).unbind("load.deckscale").bind("load.deckscale",j),e.unbind("keydown.deckscale").bind("keydown.deckscale",function(c){if(c.which===d.keys.scale||a.inArray(c.which,d.keys.scale)>-1)a[b]("toggleScale"),c.preventDefault()}),a[b]("enableScale")})}(jQuery,"deck",this);